
  :root{
    --bg1:#fff1f6; --bg2:#ffe6f0;
    --accent:#ff3d6b; --accent2:#ff7aa2;
    --card:#ffffffcc;
  }
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
  body{
    background: radial-gradient(circle at 10% 10%, #fff6f9 0%, transparent 20%),
                linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;align-items:center;justify-content:center;
    overflow:hidden;color:#222;
  }

  /* main card */
  .stage{
    width:min(980px,95vw); height:min(700px,88vh);
    background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.35));
    border-radius:18px; box-shadow: 0 10px 30px rgba(0,0,0,0.12);
    position:relative; overflow:hidden; padding:28px;
    display:flex; flex-direction:column;
  }

  header{
    display:flex; align-items:center; gap:16px;
  }
  .logo{
    width:56px;height:56px;border-radius:12px;
    background:linear-gradient(135deg,var(--accent),var(--accent2));
    display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:20px;
    box-shadow:0 6px 18px rgba(255,90,130,0.18);
  }
  h1{margin:0;font-size:20px}
  p.lead{margin:6px 0 0;color:#6b2740;font-weight:600}

  /* play area */
  .play-area{
    position:relative; flex:1; margin-top:18px;
    border-radius:12px; overflow:hidden; background:transparent;
  }

  /* animated balloons background */
  .balloon{
    position:absolute; bottom:-120px; width:64px; height:96px; border-radius:50% 50% 50% 50%;
    transform-origin:center bottom; opacity:0.85;
    animation: floatUp linear infinite;
  }
  .balloon::after{ content:""; position:absolute; left:50%; transform:translateX(-50%); bottom:-20px; width:2px; height:40px; background:rgba(0,0,0,0.06);}

  @keyframes floatUp{ from{ transform:translateY(0) } to{ transform:translateY(-120vh) } }

  /* hearts */
  .heart{
    --size:64px;
    position:absolute; width:var(--size); height:var(--size); cursor:pointer;
    display:flex;align-items:center;justify-content:center; user-select:none;
    transform-origin:center; transition:transform .18s ease;
    filter:drop-shadow(0 6px 10px rgba(255,0,90,0.15));
  }
  .heart .shape{
    width:70%; height:70%;
    background:linear-gradient(180deg,#ff6b96,#ff2d6f);
    clip-path: path("M10 30 C10 12 30 10 35 20 C40 10 60 12 60 30 C60 44 40 62 35 70 C30 62 10 44 10 30 Z");
    border-radius:50%;
    transform:scale(1);
    display:block;
  }
  .heart:active{ transform:scale(.95) rotate(-7deg); }

  /* popup toast message */
  .toast{
    position: absolute; left:50%; transform:translateX(-50%); bottom:22px;
    background:var(--card); padding:12px 16px; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,0.12);
    font-weight:600; color:#6b2740; display:none;
  }

  /* final modal */
  .modal{
    position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
    background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    pointer-events:none;
  }
  .card{
    width:min(720px,94%); background:white; border-radius:14px; padding:26px; text-align:center;
    box-shadow:0 20px 60px rgba(110,12,50,0.18);
    transform:translateY(20px) scale(.98); opacity:0; transition:all .28s ease;
    pointer-events:auto;
  }
  .card.show{ transform:translateY(0) scale(1); opacity:1; }
  .card h2{ margin:6px 0 6px; color:#b21c55; font-size:26px; }
  .card p{ color:#4b2b3b; margin:14px 0; line-height:1.45 }

  .cta{
    margin-top:12px; display:flex; gap:10px; justify-content:center;
  }
  .btn{
    border:0; padding:10px 16px; border-radius:10px; background:linear-gradient(90deg,var(--accent),var(--accent2)); color:white; font-weight:700; cursor:pointer;
  }
  .btn.secondary{ background:#fff1f6; color:var(--accent); box-shadow:inset 0 -2px 0 rgba(0,0,0,0.02); }

  /* small helpers */
  .top-right{
    position:absolute; right:18px; top:18px; color:#7b2b48; font-weight:700;
  }
  footer{ font-size:12px; color:#7b2b48; text-align:center; margin-top:12px; }

  @media (max-width:640px){
    .heart{ --size:48px; }
    .logo{width:48px;height:48px}
  }